<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="../js/sessao.js"></script>
    <title>Dashboard | Acesso Geral</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../css/style.css" />
    <!-- <link rel="stylesheet" href="areaCliente.css" /> -->
    <link rel="icon" href="../assets/icon/favicon2.ico" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

                   <!-- boxIcons -->
                   <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
                   <!-- AOS -->
                   <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
                   <!-- Swiper -->
                   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/10.2.0/swiper-bundle.min.css"
                       integrity="sha512-s6khMl5GDS1HbQ5/SwL1wzMayPwHXPjKoBN5kHUTDqKEPkkGyEZWKyH2lQ3YO2q3dxueG3rE0NHjRawMHd2b6g=="
                       crossorigin="anonymous" referrerpolicy="no-referrer" />
    
                       <!-- Adicionando o estilo pointer ao botão "Sair" -->
                    <style>
                        .navbar li a[onclick="limparSessao()"] {
                            cursor: pointer;
                        }
                    </style>

                    <link rel="icon" href="../assets/TagTech/img/logo1.png" />

    <title>Tag Tech</title>
</head>

<body>
    <div class="header">
        <nav>
            <div class="menu">
                <a href="#home"><img src="../assets/TagTech/img/CarroNavBar.png" alt="logo" id="logo"></a>
                <button class="menu-button"><i class='bx bx-menu'></i></button>
                <ul class="navbar">
                    <li><a id="dashboardLink" class="active"><strong>Dashboard</strong></a></li>
                    <li><a href="alerta.html"><strong>Alertas</strong></a></li>
                    <li><a href=""><strong>Help Desk</strong></a></li>
                    <li><a href="perfil.html"><strong>Perfil</strong></a></li>
                    <li style="color:black;"><strong>|</strong></li>
                    <li><a style="background-color: #fff178;" onclick="limparSessao()"><strong>Sair <img
                                    src="../assets/icones/sair.svg" alt=""></strong></a></li>
                </ul>
            </div>
        </nav>
    </div>
        <input type="checkbox" id="Open">
        <label for="Open" class="sidebarIcon">
            <div class="wrapper first"></div>
            <div class="wrapper second"></div>
            <div class="wrapper third"></div>
        </label>
    <div class="sidebar">
       <br>
       <br>
       <h1>TAG TECH</h1>
        <p>Olá, Fernando!</p>
        <h2>Métricas</h2>
        <div class="metrics">

         
            <button>Botão baixar relatório</button>
        

        </div>
        <div class="buttons">
            <button>Dashboard</button>
            <button>Alertas</button>
        </div>
    </div>

    <section class="container_gerente">

        <section class="container_dash_gerente">
            <div id="grafico_pizza">
                <div class="container_chart">
                    <h5>Uso médio de RAM</h5>
                    <canvas id="myChart3"></canvas>
                </div>
                <div class="container_chart">
                    <h5>Uso médio de CPU</h5>
                    <canvas id="myChart4"></canvas>
                </div>
            </div>
            <div id="grafico_column">
                <div class="container_chart">
                    <h5>Quantidade de alertas de cada servidor</h5>
                    <canvas id="myChart1"></canvas>
                </div>
                <div class="container_chart">
                    <h5>Distribuição de <strong>CPU</strong></h5>
                    <canvas id="myChart2"></canvas>
                </div>

            </div>

        </section>
        <div class="ranking">
            <h3>Ranking de tempo fora do ar</h3>
            <table style="width: 100%;" class="tabela_ranking">
                <tr>
                    <th>Ranking</th>
                    <th>Servidor</th>
                    <th>Tempo fora do ar</th>
                </tr>
                <tr>
                    <td>1-</td>
                    <td>Servidor 2</td>
                    <td>53:03</td>
                </tr>
                <tr>
                    <td>2-</td>
                    <td>Servidor 1</td>
                    <td>45:23</td>
                </tr>
                <tr>
                    <td>3-</td>
                    <td>Servidor 3</td>
                    <td>36:12</td>
                </tr>
            </table>
        </div>
    </section>
</body>

</html>
<script>
    const labels = ['Server 1', 'Server 2', 'Server 3', 'Server 4'];
    const data = {
        labels: labels,
        datasets: [{
            axis: 'y',
            label: 'Nivel Crítico',
            data: [10, 13, 8, 6],
            // fill: false,
            backgroundColor: [
                '#FF914C',
            ],
            borderColor: [
                '#FF914C',
            ],
            borderWidth: 1
        }
        ]
    }

    const config = {
        type: 'bar',
        data,
        options: {
            indexAxis: 'y',
            scales: {
                x: {
                    stacked: true,
                    title: {
                        display: true,
                        text: 'Tempo em segundos'
                    }
                },
                y: {
                    stacked: true,
                }
            }
        }
    };
    const ctx = document.getElementById('myChart1');
    new Chart(ctx, config);

</script>
<script>
    const labels2 = ['CPU 1', 'CPU 2', 'CPU 3']
    const data2 = {
        labels: labels2,
        datasets: [{
            label: 'Distribuição de uso CPU',
            data: [22, 9, 18],
            backgroundColor: [
                '#6B4423',
            ],
            borderColor: [
                '#6B4423',
            ],
            borderWidth: 1
        }]
    };
    const config2 = {
        type: 'bar',
        data: data2,
        options: {
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        },
    };

    const ctx2 = document.getElementById('myChart2');
    new Chart(ctx2, config2);

</script>
<script>
    const data3 = {
        labels: [
            'Server1',
            'Server2',
            'Server3'
        ],
        datasets: [{
            label: 'Uso médio de RAM(Todos os servidores)',
            data: [70, 54, 45],
            backgroundColor: [
                '#6B4423',
                '#FF914C',
                '#fff178'
            ],
            hoverOffset: 4
        }]
    };
    const config3 = {
    type: 'pie',
    data: data3,
    options: {
        plugins: {
            datalabels: {
                formatter: (value) => value + '%',
                color: 'black',
                font: {
                    weight: 'bold',
                    size: 18,
                }
            }
        }
    },
    plugins: [ChartDataLabels]
};
    const ctx3 = document.getElementById('myChart3');
    new Chart(ctx3, config3);
</script>
<script>
    const data4 = {
        labels: [
            'Server1',
            'Server2',
            'Server3'
        ],
        datasets: [{
            label: 'Uso médio de CPU(Todos os servidores)',
            data: [30, 12, 80],
            backgroundColor: [
                '#6B4423',
                '#FF914C',
                '#fff178'
            ],
            hoverOffset: 4
        }]
    };
    const config4 = {
        type: 'pie',
        data: data4,
        options: {
        plugins: {
            datalabels: {
                formatter: (value) => value + '%',
                color: 'black',
                font: {
                    weight: 'bold',
                    size: 18,
                }
            }
        }
    },
    plugins:[ChartDataLabels]
    };
    const ctx4 = document.getElementById('myChart4');
    new Chart(ctx4, config4);
</script>

<script>
    //menu hamburguer
    const menuButton = document.querySelector('.menu-button');
    const navbar = document.querySelector('.navbar');

    menuButton.addEventListener('click',
        () => {
            navbar.classList.toggle('active');

        });
</script>
